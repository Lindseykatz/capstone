(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)s=o[d],n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var o=a[s];0!==n[o]&&(i=!1)}i&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},s={app:0},n={app:0},r=[];function o(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9339683e"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise(function(e,a){for(var i="css/"+({about:"about"}[t]||t)+"."+{about:"8c6e3a02"}[t]+".css",n=l.p+i,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var c=r[o],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===i||d===n))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],d=c.getAttribute("data-href");if(d===i||d===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete s[t],m.parentNode.removeChild(m),a(r)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){s[t]=0}));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise(function(e,a){i=n[t]=[e,a]});e.push(i[2]=r);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=o(t),c=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+s+")");r.type=i,r.request=s,a[1](r)}n[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i,s,n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",{staticClass:"header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"header_content d-flex flex-row align-items-center justify-content-start"},[a("div",{staticClass:"header_content_inner d-flex flex-row align-items-end justify-content-start"},[t._m(0),a("nav",{staticClass:"main_nav"},[a("ul",{staticClass:"d-flex flex-row align-items-start justify-content-start"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/attractions"}},[t._v("Attractions")])],1),t.jwt?t._e():a("li",[a("router-link",{attrs:{to:"/signup"}},[t._v("Signup")])],1),t.jwt?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t.jwt?a("li",[a("router-link",{attrs:{to:"/trips"}},[t._v("Trips")])],1):t._e(),t.jwt?a("li",[a("router-link",{attrs:{to:"/logout"}},[t._v("Logout")])],1):t._e()])])])])])])]),t._m(1)]),a("router-view",{on:{changeJwt:function(e){return t.setJwt()}}}),t._m(2)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:"/white.png",width:"200",height:"200",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_social d-flex flex-row align-items-center justify-content-start"},[a("ul",{staticClass:"d-flex flex-row align-items-start justify-content-start"},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-pinterest",attrs:{"aria-hidden":"true"}})])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-dribbble",attrs:{"aria-hidden":"true"}})])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-behance",attrs:{"aria-hidden":"true"}})])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-linkedin",attrs:{"aria-hidden":"true"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"col text-center"},[t._v("\n      Copyright Â© All rights reserved | This template is made with\n      "),a("i",{staticClass:"fa fa-heart-o",attrs:{"aria-hidden":"true"}}),t._v(" by "),a("a",{attrs:{href:"https://colorlib.com/",target:"_blank"}},[t._v("Colorlib")])])])}],l={data:function(){return{jwt:null}},created:function(){this.jwt=localStorage.jwt,console.log("My jwt is",this.jwt)},methods:{setJwt:function(){this.jwt=localStorage.jwt}}},c=l,d=a("2877"),u=Object(d["a"])(c,r,o,!1,null,null,null),m=u.exports,p=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"home_search"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_search_container"},[a("div",{staticClass:"home_search_title"},[t._v("Search for your trip")]),a("div",{staticClass:"home_search_content"},[a("div",{staticClass:"d-flex flex-lg-row align-items-start justify-content-lg-between justify-content-start"},[a("div",[a("h4",[t._v("City:")]),a("input",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",placeholder:"Enter city",required:"required"}}),a("button",{staticClass:"btn btn-info",on:{click:function(t){}}},[t._v("\n                    search attractions\n                  ")])]),a("div",{staticClass:"datepicker-trigger"},[a("h4",[t._v("Dates:")]),a("input",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",id:"datepicker-trigger",placeholder:"Select dates"},domProps:{value:t.formatDates(t.dateOne,t.dateTwo)}}),a("AirbnbStyleDatepicker",{attrs:{"trigger-element-id":"datepicker-trigger",mode:"range","fullscreen-mobile":!0,"date-one":t.dateOne,"date-two":t.dateTwo},on:{"date-one-selected":function(e){t.dateOne=e},"date-two-selected":function(e){t.dateTwo=e}}}),a("button",{staticClass:"btn btn-info"},[t._v("create itinerary")])],1)])])])])])])])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"home_slider_container"},[a("div",{staticClass:"owl-carousel owl-theme home_slider"},[a("div",{staticClass:"owl-item"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(images/home_slider.jpg)"}}),a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Your next adventure awaits")])])])])])])])]),a("div",{staticClass:"owl-item"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(images/home_slider.jpg)"}}),a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Your next adventure awaits")])])])])])])])]),a("div",{staticClass:"owl-item"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(images/home_slider.jpg)"}}),a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Your next adventure awaits")])])])])])])])])])])])}],f=a("70f2"),_=a.n(f),g={data:function(){return{dateFormat:"D MMM",dateOne:"",dateTwo:""}},name:"home",mounted:function(){setupTheme()},methods:{createTrip:function(){console.log("Create the trip..."),this.errors=[];this.newTripName,this.dateOne,this.dateTwo,this.city_id},formatDates:function(t,e){var a="";return t&&(a=_()(t,this.dateFormat)),e&&(a+=" - "+_()(e,this.dateFormat)),a}}},C=g,y=Object(d["a"])(C,v,h,!1,null,null,null),w=y.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("ul",t._l(t.errors,function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])}),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Date of birth:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateOfBirth,expression:"dateOfBirth"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dateOfBirth},on:{input:function(e){e.target.composing||(t.dateOfBirth=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Avatar:")]),a("br"),t._l(t.avatars,function(e){return a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.avatarId,expression:"avatarId"}],attrs:{type:"radio",id:"avatar-"+e.id},domProps:{value:e.id,checked:t._q(t.avatarId,e.id)},on:{change:function(a){t.avatarId=e.id}}}),a("label",{attrs:{for:"avatar-"+e.id}},[a("img",{attrs:{src:"http://localhost:3000/"+e.url,alt:e.description,width:"60"}})])])})],2),a("div",{staticClass:"form-group"},[a("label",[t._v("Current City:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCity,expression:"currentCity"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentCity},on:{input:function(e){e.target.composing||(t.currentCity=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(mountain.jpeg)"}},[a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Signup")])])])])])])])])])}],x=(a("7f7f"),a("bc3a")),T=a.n(x),S={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",dateOfBirth:"",avatarId:"",currentCity:"",avatars:[],errors:[]}},created:function(){var t=this;T.a.get("/api/avatars").then(function(e){t.avatars=e.data})},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation,date_of_birth:this.dateOfBirth,avatar_id:this.avatarId,current_city:this.currentCity};T.a.post("/api/users",e).then(function(e){t.$router.push("/login")}).catch(function(e){t.errors=e.response.data.errors})}}},D=S,k=Object(d["a"])(D,b,E,!1,null,null,null),j=k.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("ul",t._l(t.errors,function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])}),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"btn btn-info",attrs:{type:"submit",value:"Submit"}})])])])])},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(boat.jpeg)"}},[a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Login")])])])])])])])])])}],N={data:function(){return{email:"lindsey@email.com",password:"password",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};T.a.post("/api/sessions",e).then(function(e){T.a.defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),t.$emit("changeJwt"),t.$router.push("/trips")}).catch(function(e){t.errors=["Invalid email or password."],t.email="",t.password=""})}}},O=N,F=Object(d["a"])(O,I,A,!1,null,null,null),M=F.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logout"})},Y=[],B={created:function(){delete T.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$emit("changeJwt"),this.$router.push("/")}},U=B,L=Object(d["a"])(U,P,Y,!1,null,null,null),J=L.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"about"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[a("div",{staticClass:"trips"},[a("div",{staticClass:"trips-index"},[a("h5"),a("h3",[t._v("New Trip")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.createTrip()}}},[a("div",[a("ul",[a("li",[t._v(" Trip Name: ")]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTripName,expression:"newTripName"}],attrs:{type:"text"},domProps:{value:t.newTripName},on:{input:function(e){e.target.composing||(t.newTripName=e.target.value)}}})]),a("li",[t._v(" Dates:\n                    "),a("div",{staticClass:"datepicker-trigger"},[a("input",{attrs:{type:"text",id:"datepicker-trigger",placeholder:"Select dates"},domProps:{value:t.formatDates(t.dateOne,t.dateTwo)}}),a("AirbnbStyleDatepicker",{attrs:{"trigger-element-id":"datepicker-trigger",mode:"range","fullscreen-mobile":!0,"date-one":t.dateOne,"date-two":t.dateTwo},on:{"date-one-selected":function(e){t.dateOne=e},"date-two-selected":function(e){t.dateTwo=e}}})],1)]),a("li",[t._v("\n                    City:\n                  ")]),a("li",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.city_id,expression:"city_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.city_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"disabled",selected:"selected"}},[t._v(" Select City:")]),t._l(t.cities,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.city_name))])})],2)])])]),a("br"),a("input",{staticClass:"btn btn-info",attrs:{type:"submit",value:" Create new trip "}})]),a("br"),a("h3",[t._v("Trips:")]),a("div",[a("div",{staticClass:"card-deck"},t._l(t.trips,function(e){return a("div",{staticClass:"card mb-4"},[1===e.city_id?a("img",{staticClass:"card-img-top",attrs:{src:"chicago.jpg",alt:"Card image cap"}}):t._e(),2===e.city_id?a("img",{staticClass:"card-img-top",attrs:{src:"barcelona.jpg",alt:"Card image cap"}}):t._e(),a("div",{staticClass:"card-text"},[a("router-link",{attrs:{to:"/trips/"+e.id}},[t._v(" "+t._s(e.name))]),a("p",{staticClass:"card-text"},[a("ul",[t._v(t._s(e.city))]),a("ul",[t._v("\n                              "+t._s(e.start_date.split("-")[1]+"-"+e.start_date.split("-")[2]+"-"+e.start_date.split("-")[0])+" \n                              to \n                              "+t._s(e.end_date.split("-")[1]+"-"+e.end_date.split("-")[2]+"-"+e.end_date.split("-")[0])+"\n                          ")])])],1)])}),0)])])])])])]),a("div",{staticClass:"row about_row"})])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(/plane.jpeg)"}}),a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Trips")])])])])])])])])}],q={data:function(){return{trips:[],newTripName:"",city_id:"",dateFormat:"D MMM",dateOne:"",dateTwo:"",current_user:"",cities:[{id:1,city_name:"Chicago"},{id:2,city_name:"Barcelona"}]}},created:function(){var t=this;T.a.get("/api/trips").then(function(e){t.trips=e.data,console.log(t.trips)})},methods:{createTrip:function(){var t=this;console.log("Create the trip..."),this.errors=[];var e={trip_name:this.newTripName,start_date:this.dateOne,end_date:this.dateTwo,city_id:this.city_id};T.a.post("/api/trips",e).then(function(e){console.log("Success",e.data),t.$router.push("/trips/"+e.data.id)}).catch(function(e){console.log(e.response.data.errors),t.errors=e.response.data.errors})},formatDates:function(t,e){var a="";return t&&(a=_()(t,this.dateFormat)),e&&(a+=" - "+_()(e,this.dateFormat)),a}}},G=q,R=Object(d["a"])(G,H,W,!1,null,null,null),z=R.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("a",{staticClass:"weatherwidget-io",attrs:{href:"https://forecast7.com/en/41d392d17/barcelona/?unit=us","data-label_1":"BARCELONA","data-label_2":"WEATHER","data-icons":"Climacons Animated","data-theme":"original"}},[t._v("BARCELONA WEATHER")]),a("div",{staticClass:"about"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[a("div",{staticClass:"trips"},[a("div",{staticClass:"trips-show"},[a("h2",[t._v("\n                "+t._s(this.trip.name)+":\n                "+t._s(this.trip.start_date.split("-")[1]+"-"+this.trip.start_date.split("-")[2]+"-"+this.trip.start_date.split("-")[0])+"\n                to\n                "+t._s(this.trip.end_date.split("-")[1]+"-"+this.trip.end_date.split("-")[2]+"-"+this.trip.end_date.split("-")[0])+"\n              ")]),a("h4",[t._v("Add New Event:")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.createItineraryItem()}}},[a("div",[t._v("\n                  Attraction:\n                  "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.AttractionId,expression:"AttractionId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.AttractionId=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"disabled",selected:"selected"}}),t._l(t.trip.city_attractions,function(e){return a("option",{domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])})],2),t._v("\n\n                  Start Date & Time:\n                  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newStartDateTime,expression:"newStartDateTime"}],attrs:{type:"datetime-local"},domProps:{value:t.newStartDateTime},on:{input:function(e){e.target.composing||(t.newStartDateTime=e.target.value)}}})]),a("input",{staticClass:"btn btn-info",attrs:{type:"submit",value:"Add to itinerary"}})]),a("br")])])])])])]),a("div",{staticClass:"row about_row"}),a("div",{staticClass:"schedule"},[a("vue-cal",{staticClass:"vuecal--full-height-delete",staticStyle:{"padding-left":"200px","padding-right":"200px"},attrs:{"time-from":360,"time-to":1440,"hide-view-selector":"","editable-events":"",events:t.itineraryItems,"selected-date":t.trip.start_date,"min-date":t.trip.start_date,"max-date":t.trip.end_date,"on-event-click":t.onEventClick},on:{"cell-click":function(e){return t.selectedDate("cell-click",e)},"event-duration-change":function(e){return t.durationChange("event-duration-change",e)},"event-delete":function(e){return t.deleteEvent("event-delete",e)}}}),a("div",{staticClass:"modal fade",attrs:{id:"editEventModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("strong",{staticStyle:{"padding-right":"5px"}},[t._v(t._s(t.selectedEvent.title))]),a("span",[t._v("\n              "+t._s(t.selectedEvent.formattedStartDate)+" from "+t._s(t.selectedEvent.startTime)+" to\n              "+t._s(t.selectedEvent.endTime))]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("ul",[a("li",[t._v("Date:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedEvent.startDate,expression:"selectedEvent.startDate"}],attrs:{type:"text"},domProps:{value:t.selectedEvent.startDate},on:{input:function(e){e.target.composing||t.$set(t.selectedEvent,"startDate",e.target.value)}}}),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.updateStartDate()}}},[t._v("\n                Update date\n              ")]),a("li"),a("li",[t._v("Starts at:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedEvent.startTime,expression:"selectedEvent.startTime"}],attrs:{type:"text"},domProps:{value:t.selectedEvent.startTime},on:{input:function(e){e.target.composing||t.$set(t.selectedEvent,"startTime",e.target.value)}}}),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.updateStartTime()}}},[t._v("\n                Update start time\n              ")]),a("li",[t._v("Ends at:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedEvent.endTime,expression:"selectedEvent.endTime"}],attrs:{type:"text"},domProps:{value:t.selectedEvent.endTime},on:{input:function(e){e.target.composing||t.$set(t.selectedEvent,"endTime",e.target.value)}}}),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.updateEndTime()}}},[t._v("\n                Update end time\n              ")]),a("br"),a("br"),a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteEvent()}}},[t._v("Delete")])])]),a("div",{staticClass:"modal-footer"})])])])],1),a("div",{attrs:{id:"map"}}),a("div",{attrs:{id:"instructions"}},[t.steps.length>0?a("div",[a("h4",[t._v("Distance")]),a("p",[t._v(t._s((t.distance/1609.344).toFixed(2))+" miles")]),a("h4",[t._v("Steps")]),a("p",[t._v("Approximately "+t._s((t.distance/1609.344*2400).toFixed(0))+" steps")]),a("br"),a("h4",[t._v("Walking Directions")]),a("ul",t._l(t.steps,function(e){return a("li",[t._v(t._s(e))])}),0)]):t._e()])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(/greece.jpeg)"}}),a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Itinerary")])])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],X=(a("ac6a"),a("e814")),K=a.n(X),Q=(a("6b54"),a("28a5"),a("7fa7")),tt=a.n(Q),et=(a("b55b"),{components:{VueCal:tt.a},data:function(){return{map:null,mapboxClient:null,trip:{itinerary_items:[],start_date:"",end_date:""},steps:[],distance:"",AttractionId:"",newStartDateTime:"",newEndDateTime:"",selectedEvent:{},itineraryItems:[],currentSelectedDate:""}},mounted:function(){var t=this;T.a.get("/api/trips/"+this.$route.params.id).then(function(e){t.trip=e.data,t.currentSelectedDate=t.trip.start_date,t.itineraryItems=t.trip.itinerary_items.map(function(t){console.log("Itemmmm ",t);var e={id:t.id};console.log("BEGIN FFFFFFF",t.start_datetime);var a=t.start_datetime.split("T")[0]+" "+t.start_datetime.split("T")[1];console.log("FFFFFFFFF",a),e["start"]=a;var i="";if(null==t.end_datetime){var s=new Date(t.start_datetime);s.setHours(s.getHours()+2),console.log("BEGIN UUUUUUUU",s.toString("YYYY-M-D H:i"));var n=s.toString("YYYY-M-D H:i").split(" ");console.log("UUUUUUUUU",n),i=n[3]+"-0"+K()(s.getMonth()+1)+"-"+n[2]+" "+n[4].slice(0,-3)}else i=t.end_datetime;return e["end"]=i,e["title"]=t["attraction_name"],e["class"]=t["category_name"],console.log("New Item ",e),e}),console.log(t.trip.itinerary_items),mapboxgl.accessToken="pk.eyJ1IjoibGthdHo5MiIsImEiOiJjanVkYXJ4MWMweDZzNDNwYm9hMWJoMTIwIn0.yDMZYqEuy8w4xIEWIGYzvw";var a=mapboxSdk({accessToken:mapboxgl.accessToken}),i=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[2.1734,41.3851],zoom:13});t.map=i,t.mapboxClient=a,t.trip.itinerary_items.forEach(function(e){t.addAttractionToMap(e)})}),console.log("mounted TripsShow"),function(t,e,a){var i,s=t.getElementsByTagName(e)[0];t.getElementById(a)||(i=t.createElement(e),i.id=a,i.src="https://weatherwidget.io/js/widget.min.js",s.parentNode.insertBefore(i,s))}(document,"script","weatherwidget-io-js")},computed:{},methods:{addAttractionToMap:function(t){var e=this;this.mapboxClient.geocoding.forwardGeocode({query:t.full_address,autocomplete:!1}).send().then(function(a){if(a&&a.body&&a.body.features&&a.body.features.length){var i=a.body.features[0];(new mapboxgl.Marker).setLngLat(i.center).addTo(e.map);t.center=i.center;var s=new mapboxgl.Popup({offset:25}).setText(t.attraction_name);(new mapboxgl.Marker).setLngLat(i.center).setPopup(s).addTo(e.map)}console.log("itinerary items",e.trip.itinerary_items)})},getDirections:function(t){var e=this;console.log("getDirections",this.trip.itinerary_items);var a=[],i=this.currentSelectedDate.split("T")[0];this.trip.itinerary_items.forEach(function(t){var e=t.start_datetime.split(" ")[0].split("T")[0];i===e&&a.push("".concat(t.center))}),console.log("WHAT'S GOING ON",t,a.join(";")),T.a.get("https://api.mapbox.com/directions/v5/mapbox/walking/".concat(a.join(";"),"?geometries=geojson&steps=true&access_token=").concat("pk.eyJ1IjoibGthdHo5MiIsImEiOiJjanVkYXJ4MWMweDZzNDNwYm9hMWJoMTIwIn0.yDMZYqEuy8w4xIEWIGYzvw")).then(function(t){console.log("directions response",t.data);var a=t.data.routes[0],i=a.geometry.coordinates,s={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:i}};e.map.getSource("route")?(console.log("reset route",s),e.map.getSource("route").setData(s)):(console.log("make new request?",s),e.map.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a.geometry.coordinates}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3887be","line-width":5,"line-opacity":.75}}),console.log("first coordinates",a.geometry.coordinates[0]),e.map.addLayer({id:"point",type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a.geometry.coordinates[0]}}]}},paint:{"circle-radius":10,"circle-color":"#3887be"}}),console.log("the route is set?",e.map.getSource("route"))),t.data.routes[0].legs.forEach(function(t){return t.steps.forEach(function(t){return e.steps.push(t.maneuver.instruction)})}),e.distance=t.data.routes[0].distance})},customEventCreation:function(t){var e=prompt("Create event on (YYYY-mm-dd)","2018-11-20");/^\d{4}-\d{2}-\d{2}$/.test(e)?this.$refs.vuecal.createEvent(e,720,{title:"New Event",content:"yay! ðŸŽ‰",classes:["leisure"]}):e&&alert("Wrong date format.")},createItineraryItem:function(){var t=this,e={attraction_id:this.AttractionId,start_datetime:this.newStartDateTime,trip_id:this.$route.params.id};T.a.post("/api/itinerary_items",e).then(function(e){t.trip.itinerary_items.push(e.data),t.itineraryItems.push(e.data),console.log(t.trip.itinerary_items),t.AttractionId="",t.newStartDateTime="",t.addAttractionToMap(e.data),location.reload(!0)})},durationChange:function(t,e){var a=this.itineraryItems.filter(function(t){return t.title===e.title});console.log("i found this",a);var i={end_datetime:e.end};T.a.patch("/api/itinerary_items/"+e.id,i).then(function(t){console.log("you updated the end date of this event"),e=t.data}),console.log(t,": ",e)},selectedDate:function(t,e){console.log(t,": ",e);var a=new Date(e),i=a.toString("YYYY-M-D H:i").split(" ");this.currentSelectedDate=i[3]+"-0"+K()(a.getMonth()+1)+"-"+i[2],console.log("Current selected date",this.currentSelectedDate),this.getDirections(this.currentSelectedDate)},deleteEvent:function(){var t=this,e=(this.itineraryItems.filter(function(e){return e.title===t.selectedEvent.title}),{});T.a.delete("/api/itinerary_items/"+this.selectedEvent.id,e).then(function(e){console.log("you deleted this event"),t.selectedEvent=e.data,location.reload(!0)}),console.log(this.selectedEvent,": ",event)},onEventClick:function(t,e){console.log("On click event ",t),this.selectedEvent=t,this.selectedEvent.formattedStartDate=this.formatDate(t.startDate),$("#editEventModal").modal("show"),e.stopPropagation()},updateStartTime:function(){var t=this,e=(this.itineraryItems.filter(function(e){return console.log("i found this",e.title===t.selectedEvent.title,"; ",t.selectedEvent),e.title===t.selectedEvent.title}),{start_datetime:this.selectedEvent.startDate+" "+this.selectedEvent.startTime});T.a.patch("/api/itinerary_items/"+this.selectedEvent.id,e).then(function(e){console.log("you updated the start time of this event"),t.selectedEvent=e.data,location.reload(!0)})},updateEndTime:function(){var t=this,e=(this.itineraryItems.filter(function(e){return e.title===t.selectedEvent.title}),{end_datetime:this.selectedEvent.endDate+" "+this.selectedEvent.endTime});T.a.patch("/api/itinerary_items/"+this.selectedEvent.id,e).then(function(e){console.log("you updated the end time of this event"),t.selectedEvent=e.data,location.reload(!0)})},updateStartDate:function(){var t=this,e=(this.itineraryItems.filter(function(e){return console.log("i found this",e.title===t.selectedEvent.title,"; ",t.selectedEvent),e.title===t.selectedEvent.title}),{start_datetime:this.selectedEvent.startDate+" "+this.selectedEvent.startTime,end_datetime:this.selectedEvent.startDate+" "+this.selectedEvent.endTime});T.a.patch("/api/itinerary_items/"+this.selectedEvent.id,e).then(function(e){console.log("you updated the start date of this event"),t.selectedEvent=e.data,location.reload(!0)})},formatDate:function(t){console.log(t);var e=t.split("-"),a=e[1]+"-"+e[2]+"-"+e[0];return a}}}),at=et,it=(a("94f0"),Object(d["a"])(at,Z,V,!1,null,null,null)),st=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"about"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[a("div",{staticClass:"attractions-index"},[a("br"),a("h5",[t._v("\n              Search for a city:\n            ")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cityFilter,expression:"cityFilter"}],staticStyle:{"margin-right":"10px"},attrs:{type:"text",placeholder:"Search"},domProps:{value:t.cityFilter},on:{input:function(e){e.target.composing||(t.cityFilter=e.target.value)}}}),a("button",{staticClass:"btn btn-info",staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.runSearch()}}},[t._v("\n                Search\n              ")])]),t._l(t.filteredAttractions,function(e){return a("div",[a("h2",[t._v(t._s(e.name))]),a("img",{attrs:{src:e.main_image_url,width:"300px",height:"200px",alt:e.name}}),a("p",[t._v("\n                Address: "+t._s(e.street_address)+", "+t._s(e.city_name)+", "+t._s(e.state)+"\n                "+t._s(e.country)+" "+t._s(e.postal_code)+"\n              ")]),a("router-link",{attrs:{to:"/attractions/"+e.id}},[t._v("More info")])],1)})],2)])]),a("div",{staticClass:"row about_row"})])])])},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(images/about.jpg)"}},[a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Attractions")])])])])])])])])])}],ot={data:function(){return{attractions:[],cities:[{id:1,city_name:"Chicago"},{id:2,city_name:"Barcelona"}],cityFilter:"",cityFilterId:null}},created:function(){var t=this;T.a.get("/api/attractions").then(function(e){t.attractions=e.data,console.log(t.attractions)})},methods:{runSearch:function(){var t=this,e=this.cities.filter(function(e){return e.city_name===t.cityFilter});e.length>0&&(console.log(this.cityFilter,e[0].city_name),this.cityFilterId=e[0].id)}},computed:{filteredAttractions:function(){var t=this;return this.cityFilterId?this.attractions.filter(function(e){return e.city_name===t.cityFilter}):[]}}},lt=ot,ct=Object(d["a"])(lt,nt,rt,!1,null,null,null),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"about"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[a("div",{staticClass:"attractions-show"},[a("h2",[t._v(t._s(this.attraction.name))]),a("img",{staticClass:"attractions-img",attrs:{src:this.attraction.main_image_url,alt:t.attraction.name}}),a("p",[t._v("\n              Address: "+t._s(this.attraction.street_address)+", "+t._s(this.attraction.city_name)+",\n              "+t._s(this.attraction.state)+" "+t._s(this.attraction.country)+" "+t._s(this.attraction.postal_code)+"\n            ")]),a("p",[t._v("Description: "+t._s(this.attraction.description))]),a("p",[t._v("Average Time Spent: "+t._s(this.attraction.average_time_minutes_spent)+" minutes")]),a("router-link",{attrs:{to:"/attractions"}},[t._v("Back to all attractions")]),t.attraction.user_trips&&t.attraction.user_trips.length>0?a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tripId,expression:"tripId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.tripId=e.target.multiple?a:a[0]}}},[a("option",{staticStyle:{"margin-right":"10px"},attrs:{value:"",disabled:"disabled",selected:"selected"}},[t._v("\n                  Choose itinerary")]),t._l(t.attraction.user_trips,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.trip_name)+": "+t._s(e.start_date)+" to "+t._s(e.end_date)+"\n                ")])})],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDateTime,expression:"startDateTime"}],staticStyle:{"margin-right":"10px"},attrs:{type:"datetime-local"},domProps:{value:t.startDateTime},on:{input:function(e){e.target.composing||(t.startDateTime=e.target.value)}}}),a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.addItineraryItem()}}},[t._v("Add to my itinerary")])]):t._e(),a("a",{staticClass:"weatherwidget-io",attrs:{href:"https://forecast7.com/en/41d392d17/barcelona/?unit=us","data-label_1":"BARCELONA","data-label_2":"WEATHER","data-icons":"Climacons Animated","data-theme":"original"}},[t._v("BARCELONA WEATHER")])],1)])]),a("div",{staticClass:"row about_row"})])])])},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"background_image",staticStyle:{"background-image":"url(/chi.jpeg)"}},[a("div",{staticClass:"home_slider_content_container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"home_slider_content"},[a("div",{staticClass:"home_title"},[a("h2",[t._v("Attractions")])])])])])])])])])}],pt={data:function(){return{attraction:{},tripId:"",startDateTime:""}},mounted:function(){!function(t,e,a){var i,s=t.getElementsByTagName(e)[0];t.getElementById(a)||(i=t.createElement(e),i.id=a,i.src="https://weatherwidget.io/js/widget.min.js",s.parentNode.insertBefore(i,s))}(document,"script","weatherwidget-io-js")},created:function(){var t=this;T.a.get("/api/attractions/"+this.$route.params.id).then(function(e){t.attraction=e.data,console.log(t.attraction)})},methods:{addItineraryItem:function(){var t=this;console.log("addItineraryItem");var e={attraction_id:this.$route.params.id,start_datetime:this.startDateTime,trip_id:this.tripId};T.a.post("/api/itinerary_items",e).then(function(e){console.log("successfully created itinerary_item",e.data),t.$router.push("/trips/"+t.tripId)}).catch(function(t){console.log(t.response.data.errors)})}}},vt=pt,ht=Object(d["a"])(vt,ut,mt,!1,null,null,null),ft=ht.exports,_t=a("f38c"),gt=a.n(_t),Ct={},yt=Object(d["a"])(Ct,i,s,!1,null,null,null);"function"===typeof gt.a&&gt()(yt);var wt=yt.exports;n["default"].use(p["a"]);var bt=new p["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:w},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/signup",name:"signup",component:j},{path:"/login",name:"login",component:M},{path:"/logout",name:"logout",component:J},{path:"/trips",name:"trips-index",component:z},{path:"/trips/:id",name:"trips-show",component:st},{path:"/attractions",name:"attractions-index",component:dt},{path:"/attractions/:id",name:"attractions-show",component:ft},{path:"/test",name:"map",component:wt}]}),Et=a("b92a"),xt=(a("1fe0"),{});n["default"].use(Et["a"],xt),T.a.defaults.baseURL="/";var Tt=localStorage.getItem("jwt");Tt&&(T.a.defaults.headers.common["Authorization"]="Bearer "+Tt);var St=a("30d1");St(new Date),n["default"].config.productionTip=!1,new n["default"]({router:bt,render:function(t){return t(m)}}).$mount("#app")},"94f0":function(t,e,a){"use strict";var i=a("acd4"),s=a.n(i);s.a},acd4:function(t,e,a){},f38c:function(t,e){}});
//# sourceMappingURL=app.7b1e8596.js.map